{% if image.subtype == 'svg+xml' %}
  <figure style="width: {{width}}%; {{alignment == "center" ? "margin: auto"}}">
    {{ source(function('wp_get_original_image_path', image.id), ignore_missing = true) }}
  </figure>
{% else %}
<div class="image {{ hasLightbox ? "has-lightbox" }}" style="place-items: {{alignment}}" {% if hasLightbox %}x-data="{ imgModal: false, imgModalSrc: '' }" @click.stop="imgModal = true;  imgModalSrc = '{{image.url}}'"{% endif %}>

        <img style="{{ flip ? 'transform: scaleX(-1);' }} width: {{width}}%;" 
            alt="{{image.description}}" 
            class="{{border ? 'image-border'}}  {{round ? "image-round"}} {{roundCorners and not rounded ? "image-round-corners" }}  {{shadow ? "image-shadow"}}" 
            src="{{round ? image.url|resize(1200) : image.url|resize(600,600)}}"
            srcset="
            {% if round %}
                {{image.url|resize(600,600)}} 600w, 
                {{image.url|resize(1200,1200)}} 1200w,
            {% else %}
                {{image.url|resize(600)}} 600w, 
                {{image.url|resize(1200)}} 1200w,
                {{image.url|resize(2520)}} 2520w
            {% endif %}
            "
            sizes="(min-width: 760px) 30vw, 100vw"
        >
{% if hasLightbox %}<div style="display:none" class="lightbox" x-show="imgModal" @click="imgModal = false"><div class="lightbox-inner"><div class="close">X</div><img @click.stop="imgModal = !imgModal" x-bind:src="imgModalSrc"></div></div>{% endif %}
</div>
{% endif %}
